---
title: "fix index numbers for ` - `r params$last`"
output:
  pdf_document: default
params: 
  type: "pcr"
  id: "pcr_id"
  db: "Laboratory"
  first: P091
  last: P128

  
---

Access database.
```{r workspace, echo = F, message=FALSE}
source("../genomics/scripts/lab_helpers.R")
write <- write_db(params$db)
library(knitr)

# pull in entire db table
db <- read_db(params$db)
dat <- db %>% tbl(params$type) %>% collect()
```
Find the range of rows to be changed
```{r change}
# change plate names
change <- dat %>%
  filter(pcr_id >= params$first & pcr_id <= params$last, 
    pcr_id != "P105", pcr_id != "P106") %>% 
  mutate(index = rep(1:12, 3))


dat <- change_rows(dat, change, params$id)

```
Write to database
```{r write}
# dbWriteTable(write, params$type, dat, row.names = F, overwrite = T, append = F)
# dbDisconnect(write)
```

