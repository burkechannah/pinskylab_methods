---
title: "update dates, enzyme, vol_in, final_vol for `r params$first` - `r params$last`"
output:
  pdf_document: default
  html_notebook: default
params: 
  type: "digest"
  id: "digest_id"
  db: "Laboratory"
  first: D6252
  last: D6431
  
---

Access database.
```{r workspace, echo = F, message=FALSE}
source("../genomics/scripts/lab_helpers.R")
write <- write_db(params$db)
library(knitr)

# pull in entire db table
db <- read_db(params$db)
dat <- db %>% tbl(params$type) %>% collect()
```
Find the range of rows to be changed
```{r change}
# change plate names
change <- dat %>%
  filter(digest_id >= params$first, digest_id <= params$last) %>% 
  mutate(date = "2018-07-30", 
         vol_in = 40, 
         ng_in = NA, 
         enzymes = "PstI-MluCI", 
         final_vol = 40)
  
dat <- change_rows(dat, change, params$id)

```
Write to database
```{r write}
# dbWriteTable(write, params$type, dat, row.names = F, overwrite = T, append = F)
# dbDisconnect(write)
```

